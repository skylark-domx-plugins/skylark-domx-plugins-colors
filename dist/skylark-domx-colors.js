/**
 * skylark-domx-colors - The skylark dom api extenstion library for color
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx/skylark-domx-colors/
 * @license MIT
 */
!function(t,e){var s=e.define,require=e.require,i="function"==typeof s&&s.amd,a=!i&&"undefined"!=typeof exports;if(!i&&!s){var o={};s=e.define=function(t,e,s){"function"==typeof s?(o[t]={factory:s,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var s=e.split("/"),i=t.split("/");s.pop();for(var a=0;a<i.length;a++)"."!=i[a]&&(".."==i[a]?s.pop():s.push(i[a]));return s.join("/")}(e,t)}),resolved:!1,exports:null},require(t)):o[t]={factory:null,resolved:!0,exports:s}},require=e.require=function(t){if(!o.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=o[t];if(!module.resolved){var s=[];module.deps.forEach(function(t){s.push(require(t))}),module.exports=module.factory.apply(e,s)||null,module.resolved=!0}return module.exports}}if(!s)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-domx-colors/colors",["skylark-langx/skylark"],function(t){return t.attach("domx.colores",{})}),t("skylark-domx-colors/helper",["skylark-domx-browser","skylark-domx-query","skylark-graphics-color"],function(t,e,s){t.isIE;return{paletteTemplate:function(t,i,a,o){for(var l=[],r=0;r<t.length;r++){var n=t[r];if(n){var h=s.parse(n),p=h.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";p+=s.equals(i,n)?" sp-thumb-active":"";var c=h.toString(o.preferredFormat||"rgb"),d="background-color:"+h.toRgbString();l.push('<span title="'+c+'" data-color="'+h.toRgbString()+'" class="'+p+'"><span class="sp-thumb-inner" style="'+d+';" /></span>')}else{l.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",o.texts.noColorSelectedText)).html())}}return"<div class='sp-cf "+a+"'>"+l.join("")+"</div>"}}}),t("skylark-domx-colors/Indicator",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser","skylark-domx-noder","skylark-domx-eventer","skylark-domx-finder","skylark-domx-query","skylark-domx-plugins"],function(t,e,s,i,a,o,l,r){var n=r.Plugin.inherit({klassName:"Indicator",pluginName:"domx.indicator",options:{},_construct:function(t,e){this.overrided(t,e),this.listenTo(this.elmx(),"mousedown",t=>{this._start(t)})},_move:function(t){if(this._dragging){var e=this._offset,s=t.pageX,i=t.pageY,a=this._maxWidth,o=this._maxHeight,l=Math.max(0,Math.min(s-e.left,a)),r=Math.max(0,Math.min(i-e.top,o)),n=this.options.onmove;n&&n.apply(this._elm,[l,r,t])}},_start:function(t){var e=t.which?3==t.which:2==t.button;if(!e&&!this._dragging){var s=this.options.onstart;if(!s||!1!==s.apply(this._elm,arguments)){this._dragging=!0;var i=this.$();this._maxHeight=i.height(),this._maxWidth=i.width(),this._offset=i.offset();var o=this.$(document);this.listenTo(o,{mousemove:t=>{this._move(t)},mouseup:t=>{this._stop(t)}}),o.find("body").addClass("sp-dragging"),this._move(t),a.stop(t)}}},_stop:function(t){var e=this.$(document);this._dragging&&(this.unlistenTo(e),e.find("body").removeClass("sp-dragging"),onstop=this.options.onstop,onstop&&this._delay(function(){onstop.apply(this._elm,arguments)})),this._dragging=!1}});return r.register(n),n}),t("skylark-domx-colors/ColorPicker",["skylark-langx/langx","skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-query","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins","skylark-graphics-color","./colors","./helper","./Indicator"],function(t,e,s,i,a,o,l,r,n,h,p,c){"use strict";var d=r.Plugin.inherit({klassName:"ColorPicker",pluginName:"domx.colors.picker",options:{selectors:{dragger:".sp-color",dragHelper:".sp-dragger",slider:".sp-hue",slideHelper:".sp-slider",alphaSliderInner:".sp-alpha-inner",alphaSlider:".sp-alpha",alphaSlideHelper:".sp-alpha-handle",textInput:".sp-input",initialColorContainer:".sp-initial",cancelButton:".sp-cancel",clearButton:".sp-clear",chooseButton:".sp-choose"},draggingClass:"sp-dragging",texts:{cancelText:"cancel",chooseText:"choose",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected"},states:{showInput:!1,allowEmpty:!1,showButtons:!0,showInitial:!1,showAlpha:!1},color:!1},_drawInitial:function(){var t=this.options;if(this.stating("showInitial")){var e=this._initialColor,s=this.get();this.$initialColorContainer.html(p.paletteTemplate([e,s],s,"sp-palette-row-initial",t))}},_updateHelperLocations:function(){var t=this._currentSaturation,e=this._currentValue;if(this.stating("allowEmpty")&&this._isEmpty)this.$alphaSlideHelper.hide(),this.$slideHelper.hide(),this.$dragHelper.hide();else{this.$alphaSlideHelper.show(),this.$slideHelper.show(),this.$dragHelper.show();var s=t*this._dragWidth,i=this._dragHeight-e*this._dragHeight;s=Math.max(-this._dragHelperHeight,Math.min(this._dragWidth-this._dragHelperHeight,s-this._dragHelperHeight)),i=Math.max(-this._dragHelperHeight,Math.min(this._dragHeight-this._dragHelperHeight,i-this._dragHelperHeight)),this.$dragHelper.css({top:i+"px",left:s+"px"});var a=this._currentAlpha*this._alphaWidth;this.$alphaSlideHelper.css({left:a-this._alphaSlideHelperWidth/2+"px"});var o=this._currentHue*this._slideHeight;this.$slideHelper.css({top:o-this._slideHelperHeight+"px"})}},_updateOriginalInput:function(t){var e=this.get(),s="";n.equals(e,this._colorOnShow);e&&(s=e.toString(this._currentPreferredFormat),this._addColorToSelectionPalette(e)),this._isInput&&this.$el.val(s)},_updateUI:function(){this.options;this._dragWidth=this.$dragger.width(),this._dragHeight=this.$dragger.height(),this._dragHelperHeight=this.$dragHelper.height(),this._slideWidth=this.$slider.width(),this._slideHeight=this.$slider.height(),this._slideHelperHeight=this.$slideHelper.height(),this._alphaWidth=this.$alphaSlider.width(),this._alphaSlideHelperWidth=this.$alphaSlideHelper.width(),this.$textInput.removeClass("sp-validation-error"),this._updateHelperLocations();var t=n.parse({h:360*this._currentHue,s:1,v:1});this.$dragger.css("background-color",t.toHexString());var s=this._currentPreferredFormat;this._currentAlpha<1&&(0!==this._currentAlpha||"name"!==s)&&("hex"!==s&&"hex3"!==s&&"hex6"!==s&&"name"!==s||(s="rgb"));var i=this.get({format:s}),a="";if(!i&&this.stating("allowEmpty"));else{var o=i.toHexString();i.toRgbString();if(this.stating("showAlpha")){var l=i.toRgb();l.a=0;var r=n.parse(l).toRgbString(),h="linear-gradient(left, "+r+", "+o+")";e.isIE?this.$alphaSliderInner.css("filter",n.parse(r).toFilter({gradientType:1},o)):(this.$alphaSliderInner.css("background","-webkit-"+h),this.$alphaSliderInner.css("background","-moz-"+h),this.$alphaSliderInner.css("background","-ms-"+h),this.$alphaSliderInner.css("background","linear-gradient(to right, "+r+", "+o+")"))}a=i.toString(s)}this.stating("showInput")&&this.$textInput.val(a),this.stating("showPalette")&&this._drawPalette(),this._drawInitial()},_applyOptions:function(){var t=this.options;this._states={allowEmpty:t.states.allowEmpty,showInput:t.states.showInput,showAlpha:t.states.showAlpha,showButtons:t.states.showButtons,showInitial:t.states.showInitial},this._applyStates(),this.reflow()},_construct:function(t,e){this.overrided(t,e);var s=this.$el=this.$(),i=this.options,a=(i.theme,this.$dragger=s.find(i.selectors.dragger),this.$dragHelper=s.find(i.selectors.dragHelper),this.$slider=s.find(i.selectors.slider),this.$slideHelper=s.find(i.selectors.slideHelper),this.$alphaSliderInner=s.find(i.selectors.alphaSliderInner),this.$alphaSlider=s.find(i.selectors.alphaSlider),this.$alphaSlideHelper=s.find(i.selectors.alphaSlideHelper),this.$textInput=s.find(i.selectors.textInput),this.$initialColorContainer=s.find(i.selectors.initialColorContainer),this.$cancelButton=s.find(i.selectors.cancelButton),this.$clearButton=s.find(i.selectors.clearButton),this.$chooseButton=s.find(i.selectors.chooseButton),this._initialColor=i.color);this._currentPreferredFormat=i.preferredFormat,this._isEmpty=!a;this._init()},_init:function(){var t=this,s=this.options;function i(){(t._dragHeight<=0||t._dragWidth<=0||t._slideHeight<=0)&&t.reflow(),t._isDragging=!0,t.$el.addClass(t.options.draggingClass),t._shiftMovementDirection=null}function l(){t._isDragging=!1,t.$el.removeClass(t.options.draggingClass)}function r(){t._updateUI()}function h(){var e=textInput.val();if(null!==e&&""!==e||!t._allowEmpty){var s=n.parse(e);s.isValid()?(t.set(s),r(),t._updateOriginalInput()):t.$textInput.addClass("sp-validation-error")}else t.set(null),r(),t._updateOriginalInput()}this._applyOptions(),this.$textInput.change(h),this.$textInput.on("paste",function(){setTimeout(h,1)}),this.$textInput.keydown(function(t){13==t.keyCode&&h()}),this.$cancelButton.text(s.texts.cancelText),this.listenTo(this.$cancelButton,"click",function(e){o.stop(e),t.revert(),t.hide()}),this.$clearButton.attr("title",s.texts.clearText),this.listenTo(this.$clearButton,"click",function(e){o.stop(e),t._isEmpty=!0,r(),s.flat&&t._updateOriginalInput(!0)}),this.$chooseButton.text(s.texts.chooseText),this.listenTo(this.$chooseButton,"click",function(e){o.stop(e),t._updateOriginalInput(!0),t.hide()}),this.$alphaSlider.plugin("domx.indicator",{onmove:function(e,s,i){t._currentAlpha=e/t._alphaWidth,t._isEmpty=!1,i.shiftKey&&(t._currentAlpha=Math.round(10*t._currentAlpha)/10),r()},onstart:i,onstop:l}),this.$slider.plugin("domx.indicator",{onmove:function(e,s,i){t._currentHue=parseFloat(s/t._slideHeight),t._isEmpty=!1,t.stating("showAlpha")||(t._currentAlpha=1),r()},onstart:i,onstop:l}),this.$dragger.plugin("domx.indicator",{onmove:function(e,s,i){if(i.shiftKey){if(!t._shiftMovementDirection){var a=t._currentSaturation*t._dragWidth,o=t._dragHeight-t._currentValue*t._dragHeight,l=Math.abs(e-a)>Math.abs(s-o);t._shiftMovementDirection=l?"x":"y"}}else t._shiftMovementDirection=null;var n=!t._shiftMovementDirection||"x"===t._shiftMovementDirection,h=!t._shiftMovementDirection||"y"===t._shiftMovementDirection;n&&(t._currentSaturation=parseFloat(e/t._dragWidth)),h&&(t._currentValue=parseFloat((t._dragHeight-s)/t._dragHeight)),t._isEmpty=!1,t.stating("showAlpha")||(t._currentAlpha=1),r()},onstart:i,onstop:l}),this._initialColor?(this.set(this._initialColor),t._updateUI(),this._currentPreferredFormat=s.preferredFormat||n.parse(this._initialColor).format):this._updateUI();var p=e.isIE?"mousedown.ColorPicker":"click.ColorPicker touchstart.ColorPicker";this.$initialColorContainer.on(p,".sp-thumb-el:nth-child(1)",{ignore:!0},function(e){e.data&&e.data.ignore?(t.set(a(e.target).closest(".sp-thumb-el").data("color")),r()):(t.set(a(e.target).closest(".sp-thumb-el").data("color")),r(),s.hideAfterPaletteSelect?(self_updateOriginalInput(!0),t.hide()):t._updateOriginalInput());return!1})},revert:function(){this.set(this._initialColor,!0),this._updateOriginalInput(!0)},get:function(t){return t=t||{},this._allowEmpty&&this._isEmpty?null:n.parse({h:360*this._currentHue,s:this._currentSaturation,v:this._currentValue,a:Math.round(1e3*this._currentAlpha)/1e3})},set:function(t,e){var s,i,a=this.options;n.equals(t,this.get())?this._updateUI():(!t&&this.stating("allowEmpty")?this._isEmpty=!0:(this._isEmpty=!1,s=n.parse(t),i=s.toHsv(),this._currentHue=i.h%360/360,this._currentSaturation=i.s,this._currentValue=i.v,this._currentAlpha=i.a),this._updateUI(),s&&s.isValid()&&!e&&(this._currentPreferredFormat=a.preferredFormat||s.getFormat()))},_applyStates:function(){var t=this._states;this.$el.toggleClass("sp-input-disabled",!t.showInput).toggleClass("sp-clear-enabled",!!t.allowEmpty).toggleClass("sp-alpha-enabled",t.showAlpha).toggleClass("sp-buttons-disabled",!t.showButtons).toggleClass("sp-initial-disabled",!t.showInitial),t.allowEmpty||this.$clearButton.hide(),this._dragWidth=this.$dragger.width(),this._dragHeight=this.$dragger.height(),this._dragHelperHeight=this.$dragHelper.height(),this._slideWidth=this.$slider.width(),this._slideHeight=this.$slider.height(),this._slideHelperHeight=this.$slideHelper.height(),this._alphaWidth=this.$alphaSlider.width(),this._alphaSlideHelperWidth=this.$alphaSlideHelper.width()},stating:function(t,e){if(void 0===e)return this._states[t];this._states[t]=e,this._applyStates()},reflow:function(){this._updateHelperLocations()}});return r.register(d),h.ColorPicker=d}),t("skylark-domx-colors/ColorPalette",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-query","skylark-domx-eventer","skylark-domx-styler","skylark-domx-fx","skylark-domx-plugins","skylark-graphics-color","./colors","./helper"],function(t,e,s,i,a,o,l,r,n,h,p,c,d){"use strict";e.noop;var u=h.Plugin.inherit({klassName:"ColorPalette",pluginName:"domx.colors.palette",options:{selectors:{},texts:{},states:{},palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[]},_addColorToSelectionPalette:function(t){if(this.stating("showSelectionPalette")){var s=p.parse(t).toRgbString();if(!this._paletteLookup[s]&&-1===e.inArray(s,this._selectionPalette))for(this._selectionPalette.push(s);this._selectionPalette.length>this._maxSelectionSize;)this._selectionPalette.shift()}},getUniqueSelectionPalette:function(){var t=[],e=this.options;if(this.stating("showPalette"))for(var s=0;s<this._selectionPalette.length;s++){var i=p.parse(this._selectionPalette[s]).toRgbString();this._paletteLookup[i]||t.push(this._selectionPalette[s])}return t.reverse().slice(0,e.maxSelectionSize)},_drawPalette:function(){var t=this.options,s=this.current(),i=e.map(this._paletteArray,function(e,i){return d.paletteTemplate(e,s,"sp-palette-row sp-palette-row-"+i,t)});this._selectionPalette&&i.push(d.paletteTemplate(this.getUniqueSelectionPalette(),s,"sp-palette-row sp-palette-row-selection",t)),this.$el.html(i.join(""))},_updateUI:function(){this._drawPalette()},_applyOptions:function(){var t=this.options;if(this._states={showSelectionPalette:t.showSelectionPalette},t.palette)for(var s=this._palette=t.palette.slice(0),i=this._paletteArray=e.isArray(s[0])?s:[s],a=this._paletteLookup={},o=0;o<i.length;o++)for(var l=0;l<i[o].length;l++){var r=p.parse(i[o][l]).toRgbString();a[r]=!0}this._applyStates(),this.reflow()},_construct:function(t,e){this.overrided(t,e),this.$el=this.$();var s=this.options;this._initialColor=s.color,this._selectionPalette=s.selectionPalette.slice(0);this._init()},_init:function(){var t=this,e=this.options;this._applyOptions(),this._initialColor?(this.current(this._initialColor),t._updateUI(),this._currentPreferredFormat=e.preferredFormat||p.parse(this._initialColor).format,t._addColorToSelectionPalette(this._initialColor)):this._updateUI();var i=s.isIE?"mousedown.palette":"click.palette touchstart.palette";this.$el.on(i,".sp-thumb-el",function(e){return t.current(o(e.target).closest(".sp-thumb-el").data("color")),t.emit("selected",t.current()),!1})},_applyStates:function(){},stating:function(t,e){if(void 0===e)return this._states[t];this._states[t]=e,this._applyStates()},reflow:function(){this._drawPalette()},current:function(t){if(void 0===t)return this._current;this._current=t}});return h.register(u),c.ColorPalette=u}),t("skylark-domx-colors/ColorPane",["skylark-langx/langx","skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-query","skylark-domx-eventer","skylark-domx-styler","skylark-domx-fx","skylark-domx-plugins","skylark-domx-popups","skylark-graphics-color","./colors","./ColorPicker","./ColorPalette"],function(t,e,s,i,a,o,l,r,n,h,p,c,d,u){"use strict";var g=n.Plugin.inherit({klassName:"ColorPane",pluginName:"domx.colors.pane",options:{selectors:{pickerContainer:".sp-picker-container",toggleButton:".sp-palette-toggle",paletteContainer:".sp-palette"},draggingClass:"sp-dragging",texts:{togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected"},states:{showPalette:!1,showPaletteOnly:!1,togglePaletteOnly:!1,showSelectionPalette:!0,showInput:!1,allowEmpty:!1,showButtons:!0,showInitial:!1,showAlpha:!1},color:!1,maxSelectionSize:7},_updateUI:function(){this.get();this.stating("showPalette")&&this.palette._updateUI(),this.picker._updateUI()},_applyOptions:function(){var t=this.options;this._states={allowEmpty:t.states.allowEmpty,showInput:t.states.showInput,showAlpha:t.states.showAlpha,showButtons:t.states.showButtons,togglePaletteOnly:t.states.togglePaletteOnly,showPalette:t.states.showPalette,showPaletteOnly:t.states.showPaletteOnly,showSelectionPalette:t.showSelectionPalette,showInitial:t.states.showInitial},this._applyStates(),this.reflow()},_construct:function(t,e){this.overrided(t,e);var s=this.$el=this.$(),i=this.options,a=(i.theme,this.$pickerContainer=s.find(i.selectors.pickerContainer)),o=this.$paletteContainer=s.find(i.selectors.paletteContainer),l=(this.$toggleButton=s.find(i.selectors.toggleButton),this._initialColor=i.color);this._isEmpty=!l;o[0]&&(this.palette=u.instantiate(o[0],{selectionPalette:i.selectionPalette,color:i.color,palette:i.palette,selectionPalette:i.selectionPalette})),a[0]&&(this.picker=d.instantiate(a[0],{color:i.color,states:{showInput:i.states.showInput,allowEmpty:i.states.allowEmpty,showButtons:i.states.showButtons,showInitial:i.states.showInitial,showAlpha:i.states.showAlpha}})),this._init()},_init:function(){var t=this,s=this.options;e.isIE&&this.$container.find("*:not(input)").attr("unselectable","on"),this._applyOptions(),this.listenTo(this.$toggleButton,"click",function(e){o.stop(e),t.stating("showPaletteOnly",!t.stating("showPaletteOnly"))}),this._initialColor?(this.set(this._initialColor),t._updateUI()):this._updateUI(),s.flat&&this.show()},revert:function(){this.set(this._colorOnShow,!0),this._updateOriginalInput(!0)},get:function(t){return t=t||{},this._allowEmpty&&this._isEmpty?null:p.parse({h:360*this._currentHue,s:this._currentSaturation,v:this._currentValue,a:Math.round(1e3*this._currentAlpha)/1e3})},set:function(t,e){var s,i,a=this.options;p.equals(t,this.get())?this._updateUI():(!t&&this.stating("allowEmpty")?this._isEmpty=!0:(this._isEmpty=!1,s=p.parse(t),i=s.toHsv(),this._currentHue=i.h%360/360,this._currentSaturation=i.s,this._currentValue=i.v,this._currentAlpha=i.a),this._updateUI(),s&&s.isValid()&&!e&&(this._currentPreferredFormat=a.preferredFormat||s.getFormat()))},_applyStates:function(){var t=this._states;t.showPaletteOnly&&(t.showPalette=!0),this.$toggleButton.text(t.showPaletteOnly?this.option("texts.togglePaletteMoreText"):this.option("texts.togglePaletteLessText")),this.$el.toggleClass("sp-input-disabled",!t.showInput).toggleClass("sp-clear-enabled",!!t.allowEmpty).toggleClass("sp-alpha-enabled",t.showAlpha).toggleClass("sp-buttons-disabled",!t.showButtons).toggleClass("sp-palette-buttons-disabled",!t.togglePaletteOnly).toggleClass("sp-palette-disabled",!t.showPalette).toggleClass("sp-palette-only",t.showPaletteOnly).toggleClass("sp-initial-disabled",!t.showInitial),t.showPaletteOnly&&!this.option("flat")&&this.$el.css("left","-="+(this.$pickerContainer.outerWidth(!0)+5))},stating:function(t,e){if(void 0===e)return this._states[t];this._states[t]=e,this._applyStates()},reflow:function(){this.stating("showPalette")&&this.palette.reflow(),this.picker.reflow()},toggle:function(){this._visible?this.hide():this.show()},show:function(){this._visible?this.reflow():(this._visible=!0,this.$el.removeClass("sp-hidden"),this.reflow(),this._updateUI())},hide:function(){this._visible&&!this._flat&&(this._visible=!1,this.$el.addClass("sp-hidden"))},destroy:function(){}});return n.register(g),g.localization={},c.ColorPane=g}),t("skylark-domx-colors/ColorBox",["skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-query","skylark-domx-eventer","skylark-domx-styler","skylark-domx-fx","skylark-domx-plugins","skylark-domx-popups","skylark-graphics-color","./colors","./ColorPane"],function(t,e,s,i,a,o,l,r,n,h,p,c){"use strict";var d=r.Plugin.inherit({klassName:"ColorBox",pluginName:"domx.colors.box",options:{states:{showPalette:!1,showPaletteOnly:!1,togglePaletteOnly:!1,showSelectionPalette:!0,showInput:!1,allowEmpty:!1,showButtons:!0,showInitial:!1,showAlpha:!1},color:!1,maxSelectionSize:7,preferredFormat:!1},_updateUI:function(){var t=this.get();if(this.$previewElement.removeClass("sp-clear-display"),this.$previewElement.css("background-color","transparent"),!t&&this.stating("allowEmpty"))this.$previewElement.addClass("sp-clear-display");else{t.toHexString();var e=t.toRgbString();this.$previewElement.css("background-color",e),t.toString()}this.pane._updateUI()},_applyOptions:function(){var t=this.options;this._states={allowEmpty:t.states.allowEmpty,showInput:t.states.showInput,showAlpha:t.states.showAlpha,showButtons:t.states.showButtons,togglePaletteOnly:t.states.togglePaletteOnly,showPalette:t.states.showPalette,showPaletteOnly:t.states.showPaletteOnly,showSelectionPalette:t.showSelectionPalette,showInitial:t.states.showInitial},this._applyStates(),this.reflow()},_construct:function(t,e){this.overrided(t,e),this.$el=this.$();var s=this.options,a=this.$pane=i(s.pane);this.$previewElement=this.$el.find(".sp-preview-inner");a[0]&&(this.pane=c.instantiate(a[0],{color:s.color,palette:s.palette,selectionPalette:s.selectionPalette,states:{showPalette:s.states.showPalette,showPaletteOnly:s.states.showPaletteOnly,togglePaletteOnly:s.states.togglePaletteOnly,showSelectionPalette:s.states.showSelectionPalette,showInput:s.states.showInput,allowEmpty:s.states.allowEmpty,showButtons:s.states.showButtons,showInitial:s.states.showInitial,showAlpha:s.states.showAlpha}})),this._init()},_init:function(){var t=this;this.options;this._applyOptions(),this.listenTo(this.$el,"click touchstart",function(e){t.toggle(),e.stopPropagation(),i(e.target).is("input")||e.preventDefault()})},revert:function(){this.pane.revert()},get:function(){return this.pane.get()},set:function(t){this.pane.set(t)},_applyStates:function(){},stating:function(t,e){if(void 0===e)return this._states[t];this._states[t]=e,this._applyStates()},reflow:function(){this.$pane.css("position","absolute"),this.$pane.offset(n.calcOffset(this.$pane[0],this.$el[0])),this.pane.reflow()},toggle:function(){this._visible?this.hide():this.show()},show:function(){this._visible?this.reflow():(this._visible=!0,this.$el.addClass("sp-active"),this.$pane.removeClass("sp-hidden"),this.reflow(),this._updateUI())},hide:function(){this._visible&&!this._flat&&(this._visible=!1,this.$el.removeClass("sp-active"),this.$pane.addClass("sp-hidden"))},destroy:function(){}});return r.register(d),d.localization={},p.ColorBox=d}),t("skylark-domx-colors/colorer",["skylark-langx/langx","skylark-domx-query","./colors","./ColorBox","./ColorPane"],function(t,e,s,i,a){var o=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),l=["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>","</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("");return s.colorer=function(s,r){var n=(r=t.mixin({color:!1,flat:!1,appendTo:"body",maxSelectionSize:7,preferredFormat:!1,containerClassName:"",replacerClassName:"",theme:"sp-light",offset:null},r)).theme,h=r.flat,p=r.appendTo,c=e(s),d=e(l,s.ownerDocument).addClass(n),u=c.is("input"),g=(u&&c.attr("type"),this._shouldReplace=u&&!h),f=g?e(o).addClass(n).addClass(r.className).addClass(r.replacerClassName):e([]);delete r.flat,delete r.appendTo,r.color=r.color||u&&c.val(),g&&c.after(f).hide();if(d.toggleClass("sp-flat",h).addClass(r.containerClassName),h){c.after(d).hide();var _=new a(d[0],r);return _.show(),_}var m="parent"===p?c.parent():e(p);return 1!==m.length&&(m=e("body")),m.append(d),r.pane=d,new i(f[0],r)}}),t("skylark-domx-colors/i18n/localization",[],function(){return{}}),t("skylark-domx-colors/i18n/texts_ja",["./localization"],function(t){return t.ja={cancelText:"中止",chooseText:"選択"}}),t("skylark-domx-colors/i18n/texts_zh-cn",["./localization"],function(t){return t["zh-cn"]={cancelText:"取消",chooseText:"选择",clearText:"清除",togglePaletteMoreText:"更多选项",togglePaletteLessText:"隐藏",noColorSelectedText:"尚未选择任何颜色"}}),t("skylark-domx-colors/i18n/texts_zh-tw",["./localization"],function(t){return t["zh-tw"]={cancelText:"取消",chooseText:"選擇",clearText:"清除",togglePaletteMoreText:"更多選項",togglePaletteLessText:"隱藏",noColorSelectedText:"尚未選擇任何顏色"}}),t("skylark-domx-colors/main",["skylark-domx-query","./colors","./colorer","./ColorPalette","./ColorPicker","./ColorPane","./i18n/texts_ja","./i18n/texts_zh-cn","./i18n/texts_zh-tw"],function(t,e,s){return t.fn.colorer=t.wraps.wrapper_every_act(s,e),e}),t("skylark-domx-colors",["skylark-domx-colors/main"],function(t){return t})}(s),!i){var l=require("skylark-langx-ns");a?module.exports=l:e.skylarkjs=l}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-colors.js.map
