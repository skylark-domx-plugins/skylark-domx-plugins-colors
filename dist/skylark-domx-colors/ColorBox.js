/**
 * skylark-domx-colors - The skylark dom api extenstion library for color
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx/skylark-domx-colors/
 * @license MIT
 */
define(["skylark-domx-browser","skylark-domx-noder","skylark-domx-finder","skylark-domx-query","skylark-domx-eventer","skylark-domx-styler","skylark-domx-fx","skylark-domx-plugins","skylark-domx-popups","skylark-graphics-color","./colors","./ColorPane"],function(t,s,e,o,i,a,l,n,h,r,p,w){"use strict";var c=n.Plugin.inherit({klassName:"ColorBox",pluginName:"domx.colors.box",options:{states:{showPalette:!1,showPaletteOnly:!1,togglePaletteOnly:!1,showSelectionPalette:!0,showInput:!1,allowEmpty:!1,showButtons:!0,showInitial:!1,showAlpha:!1},color:!1,maxSelectionSize:7,preferredFormat:!1},_updateUI:function(){var t=this.get();if(this.$previewElement.removeClass("sp-clear-display"),this.$previewElement.css("background-color","transparent"),!t&&this.stating("allowEmpty"))this.$previewElement.addClass("sp-clear-display");else{t.toHexString();var s=t.toRgbString();this.$previewElement.css("background-color",s),t.toString()}this.pane._updateUI()},_applyOptions:function(){var t=this.options;this._states={allowEmpty:t.states.allowEmpty,showInput:t.states.showInput,showAlpha:t.states.showAlpha,showButtons:t.states.showButtons,togglePaletteOnly:t.states.togglePaletteOnly,showPalette:t.states.showPalette,showPaletteOnly:t.states.showPaletteOnly,showSelectionPalette:t.showSelectionPalette,showInitial:t.states.showInitial},this._applyStates(),this.reflow()},_construct:function(t,s){this.overrided(t,s),this.$el=this.$();var e=this.options,i=this.$pane=o(e.pane);this.$previewElement=this.$el.find(".sp-preview-inner");i[0]&&(this.pane=w.instantiate(i[0],{color:e.color,palette:e.palette,selectionPalette:e.selectionPalette,states:{showPalette:e.states.showPalette,showPaletteOnly:e.states.showPaletteOnly,togglePaletteOnly:e.states.togglePaletteOnly,showSelectionPalette:e.states.showSelectionPalette,showInput:e.states.showInput,allowEmpty:e.states.allowEmpty,showButtons:e.states.showButtons,showInitial:e.states.showInitial,showAlpha:e.states.showAlpha}})),this._init()},_init:function(){var t=this;this.options;this._applyOptions(),this.listenTo(this.$el,"click touchstart",function(s){t.toggle(),s.stopPropagation(),o(s.target).is("input")||s.preventDefault()})},revert:function(){this.pane.revert()},get:function(){return this.pane.get()},set:function(t){this.pane.set(t)},_applyStates:function(){},stating:function(t,s){if(void 0===s)return this._states[t];this._states[t]=s,this._applyStates()},reflow:function(){this.$pane.css("position","absolute"),this.$pane.offset(h.calcOffset(this.$pane[0],this.$el[0])),this.pane.reflow()},toggle:function(){this._visible?this.hide():this.show()},show:function(){this._visible?this.reflow():(this._visible=!0,this.$el.addClass("sp-active"),this.$pane.removeClass("sp-hidden"),this.reflow(),this._updateUI())},hide:function(){this._visible&&!this._flat&&(this._visible=!1,this.$el.removeClass("sp-active"),this.$pane.addClass("sp-hidden"))},destroy:function(){}});return n.register(c),c.localization={},p.ColorBox=c});
//# sourceMappingURL=sourcemaps/ColorBox.js.map
